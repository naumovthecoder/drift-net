# üé¨ DriftNet - –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

## üìã –ß—Ç–æ –ø–æ–∫–∞–∂–µ—Ç –¥–µ–º–æ:
- ‚úÖ P2P —Å–µ—Ç—å –∏–∑ 20 —É–∑–ª–æ–≤
- ‚úÖ –¶–∏—Ä–∫—É–ª—è—Ü–∏—è —á–∞–Ω–∫–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏  
- ‚úÖ –ñ–∏–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- ‚úÖ Loop detection –≤ –¥–µ–π—Å—Ç–≤–∏–∏

---

## üéØ –î–µ–º–æ —Å—Ü–µ–Ω–∞—Ä–∏–π (5 –º–∏–Ω—É—Ç)

### –®–∞–≥ 1: –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: –ó–∞–ø—É—Å–∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
make -C drift-control-deck reset

# –ñ–¥–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ "Ready to accept connections"
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –±–æ–ª—å—à–æ–π —Å–µ—Ç–∏  
```bash
# –ë—Ä–∞—É–∑–µ—Ä: http://localhost:5173
# 1. –í—ã–±–∏—Ä–∞–µ–º 20 —É–∑–ª–æ–≤ –Ω–∞ —Å–ª–∞–π–¥–µ—Ä–µ
# 2. –ñ–º–µ–º "üöÄ Launch / Update Network"  
# 3. –ñ–¥–µ–º –ø–æ—è–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö 20 —É–∑–ª–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü–µ
```

### –®–∞–≥ 3: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 2: –°–æ–∑–¥–∞–µ–º —Ä–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤

# –ú–∞–ª–µ–Ω—å–∫–∏–π —Ñ–∞–π–ª
echo "Small test file" > small.txt

# –°—Ä–µ–¥–Ω–∏–π —Ñ–∞–π–ª  
head -c 1000 /dev/urandom | base64 > medium.txt

# –ë–æ–ª—å—à–æ–π —Ñ–∞–π–ª (–Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞–Ω–∫–æ–≤)
head -c 1000000 /dev/urandom | base64 > large.txt

ls -lh *.txt
```

### –®–∞–≥ 4: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –∏ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ
```bash
# –ó–∞–≥—Ä—É–∂–∞–µ–º –º–∞–ª–µ–Ω—å–∫–∏–π —Ñ–∞–π–ª
docker cp small.txt drift-client:/app/small.txt
docker exec -i drift-client dotnet DriftClient.dll << 'EOF'
upload /app/small.txt
exit
EOF

# –°—Ä–∞–∑—É –∏–¥–µ–º –≤ –±—Ä–∞—É–∑–µ—Ä –∏ —Å–º–æ—Ç—Ä–∏–º –º–µ—Ç—Ä–∏–∫–∏!
# –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
```

### –®–∞–≥ 5: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 3: –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker logs backend-driftnode-1 --follow | grep -E "(RECEIVED|FORWARDED|CIRCULATE|LOOP)"

# –¢–µ—Ä–º–∏–Ω–∞–ª 4: API –º–µ—Ç—Ä–∏–∫–∏
watch -n 2 'curl -s http://localhost:5080/api/metrics | jq ".[0] | {id, received: .chunks, forwarded, circulating, loops: .loopsDropped}"'
```

### –®–∞–≥ 6: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ  
```bash
# –ó–∞–≥—Ä—É–∂–∞–µ–º –±–æ–ª—å—à–∏–π —Ñ–∞–π–ª
docker cp large.txt drift-client:/app/large.txt
docker exec -i drift-client dotnet DriftClient.dll << 'EOF'
upload /app/large.txt
exit
EOF

# –ù–∞–±–ª—é–¥–∞–µ–º –∫–∞–∫ –º–µ—Ç—Ä–∏–∫–∏ –≤–∑–ª–µ—Ç–∞—é—Ç!
```

---

## üé™ –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:
- **–£–∑–ª—ã:** 20 –∞–∫—Ç–∏–≤–Ω—ã—Ö
- **üì• Received:** –ë—ã—Å—Ç—Ä–æ —Ä–∞—Å—Ç–µ—Ç (5-50+ –∑–∞ –º–∏–Ω—É—Ç—É)
- **üì§ Forwarded:** –ü—Ä–∏–º–µ—Ä–Ω–æ —Ä–∞–≤–Ω–æ Received
- **üîÑ Circulating:** 70-90% –æ—Ç Forwarded  
- **üö´ Loops Dropped:** –†–∞—Å—Ç–µ—Ç (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —á—Ç–æ loop detection —Ä–∞–±–æ—Ç–∞–µ—Ç)

### –í –ª–æ–≥–∞—Ö:
```
[RECEIVED] Chunk chunk-0001 | TTL=49 | Size=1024 bytes
[FORWARDED] Chunk chunk-0001 ‚Üí 172.21.0.15:5000 (TTL=48)
[CIRCULATE] chunk-0001 continuing circulation (TTL=47)
[LOOP] dropped chunk-0001
```

### –í API:
```json
{
  "id": "backend-driftnode-1",
  "received": 45,
  "forwarded": 43,
  "circulating": 38,
  "loops": 35
}
```

---

## üî• –ö—Ä—É—Ç—ã–µ –º–æ–º–µ–Ω—Ç—ã –¥–ª—è –ø–æ–∫–∞–∑–∞:

1. **–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è** - –∑–∞–≥—Ä—É–∑–∏–ª–∏ —Ñ–∞–π–ª, —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –º–µ—Ç—Ä–∏–∫–∏ –≤–∑–ª–µ—Ç–µ–ª–∏
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ü–∏—Ä–∫—É–ª—è—Ü–∏—è** - —á–∞–Ω–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è —Å–∞–º–∏ –ø–æ —Å–µ–±–µ
3. **Loop detection** - —Å–∏—Å—Ç–µ–º–∞ —É–º–Ω–∞—è, –Ω–µ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è  
4. **–†–µ–∞–ª—Ç–∞–π–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** - –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –∂–∏–≤—ã–µ, –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
5. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —É–∑–ª–æ–≤

---

## üé≠ –°—Ü–µ–Ω–∞—Ä–∏–π –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏:

> "–ü–æ–∫–∞–∂—É –∫–∞–∫ –∑–∞ 3 –º–∏–Ω—É—Ç—ã —Å–æ–∑–¥–∞—Ç—å –Ω–∞—Å—Ç–æ—è—â—É—é P2P —Å–µ—Ç—å –∏–∑ 20 —É–∑–ª–æ–≤..."
> 
> "–§–∞–π–ª —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —á–∞–Ω–∫–∏ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–º —É–∑–ª–∞–º..."
> 
> "–°–º–æ—Ç—Ä–∏—Ç–µ - —á–∞–Ω–∫–∏ –Ω–∞—á–∞–ª–∏ —Ü–∏—Ä–∫—É–ª–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!"
> 
> "–ö–∞–∂–¥—ã–π —É–∑–µ–ª –ø–µ—Ä–µ—Å—ã–ª–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–∞–ª—å—à–µ –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ñ–æ–Ω–æ–≤—É—é —Ü–∏—Ä–∫—É–ª—è—Ü–∏—é..."
> 
> "Loop detection —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç - –¥—É–±–ª–∏–∫–∞—Ç—ã –æ—Ç–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è..."
> 
> "–≠—Ç–æ –∂–∏–≤–∞—è –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–µ—Ç—å - –¥–∞–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ –≤ –¥–≤–∏–∂–µ–Ω–∏–∏!"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í–ø–µ—á–∞—Ç–ª—è—é—â–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞—é—â–µ–π P2P —Å–∏—Å—Ç–µ–º—ã! üöÄ 