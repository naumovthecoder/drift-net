# DriftNet - ะะตัะตะฝััะฐะปะธะทะพะฒะฐะฝะฝะฐั P2P ัะฐะนะปะพะฒะฐั ัะตัั

## ๐ ะะฑะทะพั ัะธััะตะผั

DriftNet - ััะพ ะดะตัะตะฝััะฐะปะธะทะพะฒะฐะฝะฝะฐั P2P ัะตัั ะดะปั ััะฐะฝะตะฝะธั ะธ ะฟะตัะตะดะฐัะธ ัะฐะนะปะพะฒ, ะณะดะต ัะฐะนะปั ัะฐะทะฑะธะฒะฐัััั ะฝะฐ ัะฐะฝะบะธ ะธ ัะธัะบัะปะธัััั ะผะตะถะดั ัะทะปะฐะผะธ ะฑะตะท ะฟะพััะพัะฝะฝะพะณะพ ััะฐะฝะตะฝะธั ะฝะฐ ะดะธัะบะต.

### ๐๏ธ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ
โ   Client    โ    โ Coordinator โ    โ    Node 1   โ
โ             โ    โ             โ    โ             โ
โ Upload/Get  โโโโโบโ   Routing   โโโโโบโ   Chunk     โ
โ             โ    โ             โ    โ  Forwarding โ
โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ
                           โ                   โ
                           โผ                   โผ
                    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ
                    โ    Node 2   โ    โ    Node 3   โ
                    โ             โ    โ             โ
                    โ   Chunk     โ    โ   Chunk     โ
                    โ  Forwarding โ    โ  Forwarding โ
                    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ
                           โ                   โ
                           โผ                   โผ
                    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ
                    โ    ...      โ    โ   Node 20   โ
                    โ             โ    โ             โ
                    โ   Chunk     โ    โ   Chunk     โ
                    โ  Forwarding โ    โ  Forwarding โ
                    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ
```

## ๐ ะะฐะฟััะบ ัะธััะตะผั

### ะัะตะดะฒะฐัะธัะตะปัะฝัะต ััะตะฑะพะฒะฐะฝะธั
- Docker ะธ Docker Compose
- .NET 8.0 SDK (ะดะปั ัะฐะทัะฐะฑะพัะบะธ)

### ะัััััะน ััะฐัั
```bash
# ะะปะพะฝะธัะพะฒะฐะฝะธะต ะธ ะทะฐะฟััะบ
git clone <repository>
cd DriftNet
docker compose up --build
```

## ๐ฆ ะะพะผะฟะพะฝะตะฝัั ัะธััะตะผั

### 1. **DriftCoordinator** - ะฆะตะฝััะฐะปัะฝัะน ะบะพะพัะดะธะฝะฐัะพั
**ะะฐะทะฝะฐัะตะฝะธะต:** ะฃะฟัะฐะฒะปัะตั ัะตะณะธัััะฐัะธะตะน ัะทะปะพะฒ ะธ ะผะฐัััััะธะทะฐัะธะตะน ัะฐะฝะบะพะฒ

**ะะพัั:** 8000

**ะคัะฝะบัะธะธ:**
- ะะตะณะธัััะฐัะธั ัะทะปะพะฒ ัะตัะธ
- ะัะตะดะพััะฐะฒะปะตะฝะธะต ัะฟะธัะบะฐ ะฐะบัะธะฒะฝัั ัะทะปะพะฒ
- ะะพะพัะดะธะฝะฐัะธั ะผะฐัััััะธะทะฐัะธะธ ัะฐะฝะบะพะฒ

**API Endpoints:**
- `GET /peers` - ะฟะพะปััะธัั ัะฟะธัะพะบ ะฒัะตั ัะทะปะพะฒ
- `POST /register` - ัะตะณะธัััะฐัะธั ะฝะพะฒะพะณะพ ัะทะปะฐ

**ะะพะณะธ:**
```
[REGISTER] New peer: node-1 (172.19.0.5:5001)
[ROUTING] Chunk chunk-0001 โ node-3, node-7, node-15
```

### 2. **DriftNode** - ะฃะทะปั ัะตัะธ (20 ัะบะทะตะผะฟะปััะพะฒ)
**ะะฐะทะฝะฐัะตะฝะธะต:** ะะฑัะฐะฑะพัะบะฐ ะธ ะฟะตัะตััะปะบะฐ ัะฐะฝะบะพะฒ ะผะตะถะดั ัะทะปะฐะผะธ

**ะะพััั:** 5001-5020 (ะฟะพ ะพะดะฝะพะผั ะฝะฐ ัะทะตะป)

**ะคัะฝะบัะธะธ:**
- ะัะธะตะผ ัะฐะฝะบะพะฒ ะพั ะบะปะธะตะฝัะฐ ะธ ะดััะณะธั ัะทะปะพะฒ
- ะะตัะตััะปะบะฐ ัะฐะฝะบะพะฒ ะดััะณะธะผ ัะทะปะฐะผ ัะพะณะปะฐัะฝะพ TTL
- ะะตะถะธะผ ะฒะพัััะฐะฝะพะฒะปะตะฝะธั ะดะปั ะฝะฐะบะพะฟะปะตะฝะธั ัะฐะฝะบะพะฒ
- ะะธะบะพะณะดะฐ ะฝะต ััะฐะฝะธั ัะฐะฝะบะธ ะฝะฐ ะดะธัะบะต (ะบัะพะผะต ัะตะถะธะผะฐ ะฒะพัััะฐะฝะพะฒะปะตะฝะธั)

**ะะตะถะธะผั ัะฐะฑะพัั:**
- **ะะพัะผะฐะปัะฝัะน ัะตะถะธะผ:** ะงะฐะฝะบะธ ะฟะตัะตััะปะฐัััั ะธ ะฝะต ัะพััะฐะฝััััั
- **ะะตะถะธะผ ะฒะพัััะฐะฝะพะฒะปะตะฝะธั:** ะงะฐะฝะบะธ ะฝะฐะบะฐะฟะปะธะฒะฐัััั ะฒ ะฟะฐะผััะธ ะดะปั ะฒะพัััะฐะฝะพะฒะปะตะฝะธั

**ะะพะณะธ:**
```
[RECEIVED] chunk-0001 from 172.19.0.2 (TTL: 10000)
[FORWARD] chunk-0001 โ node-5 (TTL: 9999)
[RECOVERY] Mode enabled - accumulating chunks
[FOUND] chunk-0001 in memory (256000 bytes)
```

### 3. **DriftClient** - ะะปะธะตะฝััะบะพะต ะฟัะธะปะพะถะตะฝะธะต
**ะะฐะทะฝะฐัะตะฝะธะต:** ะะฐะณััะทะบะฐ ะธ ะฒะพัััะฐะฝะพะฒะปะตะฝะธะต ัะฐะนะปะพะฒ

**ะคัะฝะบัะธะธ:**
- ะะฐะทะฑะธะฒะบะฐ ัะฐะนะปะพะฒ ะฝะฐ ัะฐะฝะบะธ
- ะัะฟัะฐะฒะบะฐ ัะฐะฝะบะพะฒ ะฝะฐ ัะปััะฐะนะฝัะต ัะทะปั
- ะะพัััะฐะฝะพะฒะปะตะฝะธะต ัะฐะนะปะพะฒ ะธะท ัะตัะธ

**ะะฝัะตัะฐะบัะธะฒะฝัะต ะบะพะผะฐะฝะดั:**
```
> help                    - ะฟะพะบะฐะทะฐัั ัะฟัะฐะฒะบั
> upload <file-path>      - ะทะฐะณััะทะธัั ัะฐะนะป
> get <chunk-prefix>      - ะฒะพัััะฐะฝะพะฒะธัั ัะฐะนะป
> exit                    - ะฒัะนัะธ
```

## ๐ ะัะพัะตัั ัะฐะฑะพัั

### ะะฐะณััะทะบะฐ ัะฐะนะปะฐ

1. **ะะฐะทะฑะธะฒะบะฐ ัะฐะนะปะฐ:**
   ```
   ะคะฐะนะป (26.7 ะะ) โ 105 ัะฐะฝะบะพะฒ ะฟะพ 256 ะะ
   ```

2. **ะัะฟัะฐะฒะบะฐ ัะฐะฝะบะพะฒ:**
   ```
   ะะฐะถะดัะน ัะฐะฝะบ โ 3 ัะปััะฐะนะฝัั ัะทะปะฐ
   chunk-0001 โ node-3, node-7, node-15
   chunk-0002 โ node-1, node-12, node-19
   ...
   ```

3. **ะฆะธัะบัะปััะธั ัะฐะฝะบะพะฒ:**
   ```
   ะฃะทะปั ะฟะตัะตััะปะฐัั ัะฐะฝะบะธ ะดััะณ ะดััะณั
   TTL ัะผะตะฝััะฐะตััั ะฟัะธ ะบะฐะถะดะพะน ะฟะตัะตััะปะบะต
   ะงะฐะฝะบะธ ะฝะธะบะพะณะดะฐ ะฝะต ัะพััะฐะฝััััั ะฝะฐ ะดะธัะบะต
   ```

### ะะพัััะฐะฝะพะฒะปะตะฝะธะต ัะฐะนะปะฐ

1. **ะะบะปััะตะฝะธะต ัะตะถะธะผะฐ ะฒะพัััะฐะฝะพะฒะปะตะฝะธั:**
   ```
   ะัะต ัะทะปั ะฟะตัะตััะฐัั ะฟะตัะตััะปะฐัั ัะฐะฝะบะธ
   ะะฐัะธะฝะฐัั ะฝะฐะบะฐะฟะปะธะฒะฐัั ะธั ะฒ ะฟะฐะผััะธ
   ```

2. **ะกะฑะพั ัะฐะฝะบะพะฒ:**
   ```
   ะะปะธะตะฝั ะพะฟัะฐัะธะฒะฐะตั ะฒัะต ัะทะปั
   ะกะพะฑะธัะฐะตั ะฝะฐะนะดะตะฝะฝัะต ัะฐะฝะบะธ
   ```

3. **ะะพัััะฐะฝะพะฒะปะตะฝะธะต ัะฐะนะปะฐ:**
   ```
   ะงะฐะฝะบะธ ัะพะฑะธัะฐัััั ะฒ ะฟัะฐะฒะธะปัะฝะพะผ ะฟะพััะดะบะต
   ะคะฐะนะป ัะพััะฐะฝัะตััั ะปะพะบะฐะปัะฝะพ
   ะะตะถะธะผ ะฒะพัััะฐะฝะพะฒะปะตะฝะธั ะพัะบะปััะฐะตััั
   ```

## โ๏ธ ะะพะฝัะธะณััะฐัะธั

### ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

**DriftCoordinator:**
```yaml
# ะะพัั ะบะพะพัะดะธะฝะฐัะพัะฐ
PORT=8000
```

**DriftNode:**
```yaml
# ID ัะทะปะฐ
NODE_ID=node-1
# ะะพัั ัะทะปะฐ
PORT=5001
# URL ะบะพะพัะดะธะฝะฐัะพัะฐ
COORDINATOR_URL=http://coordinator:8000
```

**DriftClient:**
```yaml
# URL ะบะพะพัะดะธะฝะฐัะพัะฐ
COORDINATOR_URL=http://coordinator:8000
# ะะฐะทะผะตั ัะฐะฝะบะฐ (ะฑะฐะนั)
CHUNK_SIZE=256000
# ะัะตะผั ะถะธะทะฝะธ ัะฐะฝะบะฐ (ะบะพะปะธัะตััะฒะพ ะฟะตัะตััะปะพะบ)
TTL=10000
```

## ๐ณ Docker Compose

### ะกัััะบัััะฐ ัะตัะฒะธัะพะฒ
```yaml
services:
  coordinator:     # ะฆะตะฝััะฐะปัะฝัะน ะบะพะพัะดะธะฝะฐัะพั
  node1-node20:    # 20 ัะทะปะพะฒ ัะตัะธ
  drift-client:    # ะะปะธะตะฝััะบะพะต ะฟัะธะปะพะถะตะฝะธะต
```

### ะะฐะฟััะบ
```bash
# ะะพะปะฝัะน ะทะฐะฟััะบ ะฒัะตั ัะตัะฒะธัะพะฒ
docker compose up --build

# ะะฐะฟััะบ ะฒ ัะพะฝะพะฒะพะผ ัะตะถะธะผะต
docker compose up -d

# ะััะฐะฝะพะฒะบะฐ
docker compose down
```

## ๐ ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### 1. ะะฐะณััะทะบะฐ ัะฐะนะปะฐ
```bash
# ะะพะดะบะปััะตะฝะธะต ะบ ะบะปะธะตะฝัั
docker exec -it drift-client dotnet DriftClient.dll

# ะ ะธะฝัะตัะฐะบัะธะฒะฝะพะผ ัะตะถะธะผะต:
> upload testfile.txt
[UPLOAD] Starting upload of testfile.txt
[INFO] File size: 26747711 bytes
[INFO] Total chunks: 105
[PEERS] Found 20 peers - will use 3 random peers each
[UPLOAD] chunk-0001 (256000 bytes)
[UPLOAD] chunk-0001 โ 172.19.0.3:5003
[UPLOAD] chunk-0001 โ 172.19.0.7:5007
[UPLOAD] chunk-0001 โ 172.19.0.15:5015
...
[SENT] All 105 chunks to 3 random peers each
[UPLOAD] Upload completed successfully
```

### 2. ะะพัััะฐะฝะพะฒะปะตะฝะธะต ัะฐะนะปะฐ
```bash
# ะ ัะพะผ ะถะต ะบะปะธะตะฝัะต:
> get chunk- --out recovered_file.txt
[GET] Starting recovery with prefix: chunk-
[PEERS] Found 20 peers
[RECOVERY] Enabling recovery mode on all nodes...
[WAIT] Waiting 5 seconds for chunks to be intercepted...
[FOUND] chunk-0001 from 172.19.0.12:5019 (256000 bytes)
[FOUND] chunk-0002 from 172.19.0.12:5019 (256000 bytes)
...
[DONE] Output saved to recovered_file.txt
[INFO] Recovered 105 chunks, total size: 26747711 bytes
```

### 3. ะะพะฝะธัะพัะธะฝะณ ะปะพะณะพะฒ
```bash
# ะัะต ะปะพะณะธ
docker compose logs -f

# ะะพะณะธ ะบะพะฝะบัะตัะฝะพะณะพ ัะตัะฒะธัะฐ
docker compose logs -f coordinator
docker compose logs -f node1
docker compose logs -f drift-client
```

## ๐ง ะัะปะฐะดะบะฐ ะธ ะผะพะฝะธัะพัะธะฝะณ

### ะัะพะฒะตัะบะฐ ัะพััะพัะฝะธั ัะทะปะพะฒ
```bash
# ะัะพะฒะตัะบะฐ ะบะพะพัะดะธะฝะฐัะพัะฐ
curl http://localhost:8000/peers

# ะัะพะฒะตัะบะฐ ะบะพะฝะบัะตัะฝะพะณะพ ัะทะปะฐ
docker exec -it node1 dotnet DriftNode.dll
```

### ะะฝะฐะปะธะท ะปะพะณะพะฒ
```bash
# ะะพะธัะบ ะพัะธะฑะพะบ
docker compose logs | grep ERROR

# ะะพะฝะธัะพัะธะฝะณ ัะธัะบัะปััะธะธ ัะฐะฝะบะพะฒ
docker compose logs | grep FORWARD

# ะัะพะฒะตัะบะฐ ัะตะณะธัััะฐัะธะธ ัะทะปะพะฒ
docker compose logs | grep REGISTER
```

## ๐จ ะฃัััะฐะฝะตะฝะธะต ะฝะตะฟะพะปะฐะดะพะบ

### ะัะพะฑะปะตะผั ั ะฟะพะดะบะปััะตะฝะธะตะผ
```bash
# ะัะพะฒะตัะบะฐ ัะตัะธ Docker
docker network ls
docker network inspect driftnet_driftnet

# ะะตัะตะทะฐะฟััะบ ัะตัะฒะธัะฐ
docker compose restart coordinator
```

### ะัะพะฑะปะตะผั ั ัะฐะฝะบะฐะผะธ
```bash
# ะัะพะฒะตัะบะฐ TTL
docker compose logs | grep TTL

# ะัะพะฒะตัะบะฐ ะผะฐัััััะธะทะฐัะธะธ
docker compose logs | grep ROUTING
```

## ๐ ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั

### ะะตะบะพะผะตะฝะดัะตะผัะต ะฝะฐัััะพะนะบะธ
- **CHUNK_SIZE:** 256000 ะฑะฐะนั (256 ะะ) - ะพะฟัะธะผะฐะปัะฝัะน ะฑะฐะปะฐะฝั
- **TTL:** 10000 - ะดะปะธัะตะปัะฝะฐั ัะธัะบัะปััะธั
- **ะะพะปะธัะตััะฒะพ ัะทะปะพะฒ:** 20 - ัะพัะพัะฐั ะธะทะฑััะพัะฝะพััั

### ะะณัะฐะฝะธัะตะฝะธั
- ะคะฐะนะปั ัะฐะทะฑะธะฒะฐัััั ะฝะฐ ัะฐะฝะบะธ ัะธะบัะธัะพะฒะฐะฝะฝะพะณะพ ัะฐะทะผะตัะฐ
- ะงะฐะฝะบะธ ัะธัะบัะปะธัััั ัะพะปัะบะพ ะฒ ะฟะฐะผััะธ ัะทะปะพะฒ
- ะะพัััะฐะฝะพะฒะปะตะฝะธะต ััะตะฑัะตั ะพััะฐะฝะพะฒะบะธ ัะธัะบัะปััะธะธ

## ๐ ะะตะทะพะฟะฐัะฝะพััั

### ะขะตะบััะธะต ะพะณัะฐะฝะธัะตะฝะธั
- ะะตั ัะธััะพะฒะฐะฝะธั ะดะฐะฝะฝัั
- ะะตั ะฐััะตะฝัะธัะธะบะฐัะธะธ ัะทะปะพะฒ
- ะัะบััััะต TCP ัะพะตะดะธะฝะตะฝะธั

### ะะตะบะพะผะตะฝะดะฐัะธะธ
- ะัะฟะพะปัะทะพะฒะฐัั ัะพะปัะบะพ ะฒ ะดะพะฒะตัะตะฝะฝะพะน ัะตัะธ
- ะะณัะฐะฝะธัะธัั ะดะพัััะฟ ะบ ะฟะพััะฐะผ ัะทะปะพะฒ
- ะะพะฝะธัะพัะธัั ัะตัะตะฒัั ะฐะบัะธะฒะฝะพััั

## ๐ฏ ะัะตะธะผััะตััะฒะฐ ัะธััะตะผั

- **ะััะพะบะฐั ะดะพัััะฟะฝะพััั:** ะะฐะฝะฝัะต ัะธัะบัะปะธัััั ะฟะพ ะฒัะตะน ัะตัะธ
- **ะัะบะฐะทะพัััะพะนัะธะฒะพััั:** ะะพัะตัั ะพัะดะตะปัะฝัั ัะทะปะพะฒ ะฝะต ะบัะธัะธัะฝะฐ
- **ะะฐัััะฐะฑะธััะตะผะพััั:** ะะตะณะบะพ ะดะพะฑะฐะฒะปััั ะฝะพะฒัะต ัะทะปั
- **ะะฒัะพะผะฐัะธัะตัะบะพะต ัะฟัะฐะฒะปะตะฝะธะต:** ะะพะพัะดะธะฝะฐัะพั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะผะฐัััััะธะทะธััะตั ััะฐัะธะบ
- **ะญััะตะบัะธะฒะฝะพััั:** ะงะฐะฝะบะธ ะฝะต ััะฐะฝัััั ะฝะฐ ะดะธัะบะต, ัะพะปัะบะพ ะฒ ะฟะฐะผััะธ

## ๐ ะะธัะตะฝะทะธั

MIT License 